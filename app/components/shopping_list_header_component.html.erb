<%= component_controller do %> 
  <div class="level" id="shopping-list-header">
    <% if @shopping_list_end_date %>
      <div class="level">
        <div class="level-item has-text-weight-bold"> Thru <%= @shopping_list_end_date%> </div>
      </div>
    <% else %>
      <div class="level-item has-text-centered"> Looks like you need a list. Click Create list and a list will be created from the meals you've scheduled.
      </div>
    <% end %>
    <div class="level is-mobile">
      <div class="level-item <%= @is_shopping_list_present ? '' : 'is-hidden' %>">
        <a href="#" class="button is-primary is-small is-pulled-right"
          id="reset_shopping_list_button"
          data-action="confirm:complete->shopping-list-header#clear_shopping_list"
          data-confirm="Are you sure?"
          data-key=<%= key %>
                  > Clear the List </a>
      </div>
      <div class="level-item <%= @is_shopping_list_present ? 'is-hidden' : '' %>">
        <a href="#" class="button is-primary is-small is-pulled-right"
                    id="create_shopping_list_button"
                    data-reflex="click->ShoppingListHeaderComponent#create_shopping_list"
                    data-key=<%= key %>
                  > Create List </a>
      </div>
      <div class="level-item <%= @is_shopping_list_present && !@is_shopping_list_current  ? '' : 'is-hidden' %>">
        <a href="#" class="button is-primary is-small is-pulled-right"
                    id="update_shopping_list_button"
                    data-reflex="click->ShoppingListHeaderComponent#update_shopping_list"
                    data-key=<%= key %>

                  > Update List </a>
      </div>
      <div class="level-item">
        <a href="#" class="button is-primary is-small is-pulled-right"
                    id="reset_snoozes_button"
                    data-reflex="click->ShoppingListHeaderComponent#reset_snoozes"
                    data-key=<%= key %>
                  > Reset Snoozes </a>
      </div>
      <div class="level-item">
        <span class="button is-primary is-small is-pulled-right"
                    id="toggle_snoozes_button"
                  >Show Snoozed</span>
      </div>
    </div>
  </div>
  <div class="level">
    <div class="level-item">
      <h2 class="subtitle">Add other items</h2>
    </div>
  </div>
  <div class="level">
    <div class="level-item">
      <div class="field has-addons">
        <p class="control">
        <input data-autocomplete-source="/ingredients" type="text" name="ingredient" id="ingredient" class="input">
        </p>
        <p class="control">
        <a href="#" id="add-ingredient-button"
                    class="button is-primary"
                    data-reflex="click->ShoppingListHeaderComponent#add_ingredient"
                    data-ingredient_id=""
                    data-ingredient_term=""
                    data-key=<%= key %>
                  > Add </a>
        </p>
      </div>
    </div>
  </div>
<% end %>
